<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <link href="../Styles/Style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <h3 id="6-8-6-">6.8.6　推导遍历结果</h3>

  <p>有一种题目为了考查你对二叉树遍历的掌握程度，是这样出题的。已知一棵二叉树的前序遍历序列为ABCDEF，中序遍历序列为CBAEDF，请问这棵二叉树的后序遍历结果是多少？</p>

  <p>对于这样的题目，如果真的完全理解了前中后序的原理，是不难的。</p>

  <p>三种遍历都是从根结点开始，前序遍历是先打印再递归左和右。所以前序遍历序列为ABCDEF，第一个字母是A被打印出来，就说明A是根结点的数据。再由中序遍历序列是CBAEDF，可以知道C和B是A的左子树的结点，E、D、F是A的右子树的结点，如图6-8-21所示。</p>

  <p><img alt="" src="../Images/6-8-21.jpg" /></p>

  <p>图6-8-21</p>

  <p>然后我们看前序中的C和B，它的顺序是ABCDEF，是先打印B后打印C，所以B应该是A的左孩子，而C就只能是B的孩子，此时是左还是右孩子还不确定。再看中序序列是CBAEDF，C是在B的前面打印，这就说明C是B的左孩子，否则就是右孩子了，如图6-8-22所示。</p>

  <p><img alt="" src="../Images/6-8-22.jpg" /></p>

  <p>图6-8-22</p>

  <p>再看前序中的E、D、F，它的顺序是ABCDEF，那就意味着D是A结点的右孩子，E和F是D的子孙，注意，它们中有一个不一定是孩子，还有可能是孙子的。再来看中序序列是CBAEDF，由于E在D的左侧，而F在右侧，所以可以确定E是D的左孩子，F是D的右孩子。因此最终得到的二叉树是图6-8-23所示。</p>

  <p><img alt="" src="../Images/6-8-23.jpg" /></p>

  <p>图6-8-23</p>

  <p>为了避免推导中的失误，你最好在心中递归遍历，检查一下这棵树的前序和中序遍历序列是否与题目中的相同。</p>

  <p>已经复原了二叉树，要获得它的后序遍历结果就是易如反掌，结果是CBEFDA。</p>

  <p>但其实，如果同学们足够熟练，不用画这棵二叉树，也可以得到后序的结果，因为刚才判断了A结点是根结点，那么它在后序序列中，一定是最后一个。刚才推导出C是B的左孩子，而B是A的左孩子，那就意味着后序序列的前两位一定是CB。同样的办法也可以得到EFD这样的后序顺序，最终就自然的得到CBEFDA这样的序列，不用在草稿上画树状图了。</p>

  <p>反过来，如果我们的题目是这样：二叉树的中序序列是ABCDEFG，后序序列是BDCAFGE，求前序序列。</p>

  <p>这次简单点，由后序的BDCAFGE，得到E是根结点，因此前序首字母是E。</p>

  <p>于是根据中序序列分为两棵树ABCD和FG，由后序序列的BDCAFGE，知道A是E的左孩子，前序序列目前分析为EA。</p>

  <p>再由中序序列的ABCDEFG，知道BCD是A结点的右子孙，再由后序序列的BDCAFGE知道C结点是A结点的右孩子，前序序列目前分析得到EAC。</p>

  <p>中序序列ABCDEFG，得到B是C的左孩子，D是C的右孩子，所以前序序列目前分析结果为EACBD。</p>

  <p>由后序序列BDCAFGE，得到G是E的右孩子，于是F就是G的孩子。如果你是在考试时做这道题目，时间就是分数、名次、学历，那么你根本不需关心F是G的左还是右孩子，前序遍历序列的最终结果就是EACBDGF。</p>

  <p>不过细细分析，根据中序序列ABCDEFG，是可以得出F是G的左孩子。</p>

  <p>从这里我们也得到两个二叉树遍历的性质。</p>

  <ul>
    <li>已知前序遍历序列和中序遍历序列，可以唯一确定一棵二叉树。</li>

    <li>已知后序遍历序列和中序遍历序列，可以唯一确定一棵二叉树。</li>
  </ul>

  <p>但要注意了，已知前序和后序遍历，是不能确定一棵二叉树的，原因也很简单，比如前序序列是ABC，后序序列是CBA。我们可以确定A一定是根结点，但接下来，我们无法知道，哪个结点是左子树，哪个是右子树。这棵树可能有如图6-8-24所示的四种可能。</p>

  <p><img alt="" src="../Images/6-8-24.jpg" /></p>

  <p>图6-8-24</p>
</body>
</html>
